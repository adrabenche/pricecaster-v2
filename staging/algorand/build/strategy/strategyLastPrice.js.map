{"version":3,"file":"strategyLastPrice.js","sourceRoot":"","sources":["../../backend/strategy/strategyLastPrice.ts"],"names":[],"mappings":";;;AACA,iDAA6C;AAyB7C,MAAa,iBAAkB,SAAQ,2BAAY;IACjD,QAAQ;QACN,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA;QAC/C,IAAI,CAAC,WAAW,EAAE,CAAA;QAClB,OAAO,GAAG,CAAA;IACZ,CAAC;CACF;AAND,8CAMC","sourcesContent":["import { PriceTicker } from '../common/priceTicker'\r\nimport { StrategyBase } from './strategyBase'\r\n/**\r\n * Pricecaster Service.\r\n *\r\n * Fetcher backend component.\r\n *\r\n * Copyright 2022 Wormhole Project Contributors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/**\r\n * This strategy just caches the last provided price,\r\n * acting as a single-item buffer.\r\n */\r\nexport class StrategyLastPrice extends StrategyBase {\r\n  getPrice (): PriceTicker | undefined {\r\n    const ret = this.buffer[this.buffer.length - 1]\r\n    this.clearBuffer()\r\n    return ret\r\n  }\r\n}\r\n"]}